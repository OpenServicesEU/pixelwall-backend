<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <div class="navbar-brand logo"></div>
    </div>
    <!--
    <ol class="breadcrumb">
      <li><a ui-sref="devices">Home</a></li>
      <li><a class="active" ui-sref="devices.pages({deviceId: device.id})">{{device.name}}</a></li>
    </ol>
    -->
    <button type="button" class="btn btn-default navbar-btn" ng-click="addNewPage()">
      <fa name="plus-square"></fa> New page
    </button>
    <div class="btn-group" dropdown>
      <button type="button" class="btn btn-default dropdown-toggle navbar-btn" dropdown-toggle>
        <fa name="caret-square-o-down"></fa> Add existing page
      </button>
      <ul class="dropdown-menu" role="menu">
        <li ng-repeat="page in allPages">
          <a ng-click="addExistingPage(page)">
            <fa name="plus-square"></fa> {{ page.name }}
          </a>
        </li>
      </ul>
    </div>
    <div class="btn-group navbar-right">
      <button type="button" class="btn btn-default navbar-btn pull-right" ui-sref="^">
        <fa name="arrow-left"></fa> Devices
      </button>
    </div>
  </div>
</nav>
<div class="panel panel-default">
  <div class="panel-body">
    <table class="table table-bordered table-hover table-condensed" sv-root sv-part="pages" sv-on-sort="movePage($item, $partFrom, $partTo, $indexFrom, $indexTo)">
      <tr style="font-weight: bold">
        <td style="width:35%">Debug</td>
        <td style="width:35%">Name</td>
        <td style="width:20%">Rows</td>
        <td style="width:20%">Columns</td>
        <td style="width:20%">Duration</td>
        <td style="width:25%">Edit</td>
      </tr>
      <tr ng-repeat="page in pages | orderBy:pageOrder" sv-element>
        <td>
          {{ page.id }} <br/> {{ page.ordering }} <br/>{{ page.devices }}
        </td>
        <td>
          <span editable-text="page.name" e-name="name" e-form="rowform" e-required>
            {{ page.name || 'Unnamed' }}
          </span>
        </td>
        <td>
          <span editable-range="page.rows" e-name="rows" e-form="rowform" e-title="Rows" e-min="1" e-max="8">
            {{ page.rows }}
          </span>
        </td>
        <td>
          <span editable-range="page.columns" e-name="columns" e-form="rowform" e-title="Columns" e-min="1" e-max="8">
            {{ page.columns }}
          </span>
        </td>
        <td>
          <span editable-number="page.duration" e-name="duration" e-form="rowform" e-title="Duration" e-min="5">
            {{ page.duration }}
          </span>
        </td>
        <td style="white-space: nowrap">
          <form editable-form name="rowform" onbeforesave="savePage(page, $data)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == page">
            <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary">
              <fa name="save"/>
            </button>
            <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default">
              <fa name="close"/>
            </button>
          </form>
          <div class="buttons" ng-show="!rowform.$visible">
            <button class="btn btn-success" ui-sref="devices.pages.boxes({deviceId: device.id, pageId: page.id})">
              <fa name="table"/>
            </button>
            <button class="btn btn-default" sv-handle>
              <fa name="arrows-v"/>
            </button>
            <button class="btn btn-primary" ng-click="rowform.$show()">
              <fa name="edit"/>
            </button>
            <button class="btn btn-danger" ng-click="removePage(page)">
              <fa name="trash"/>
            </button>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
